(this["webpackJsonpgoit-react-hw-04-hooks-images "]=this["webpackJsonpgoit-react-hw-04-hooks-images "]||[]).push([[0],{14:function(e,t,a){e.exports={Button:"button_Button__m1iUa"}},21:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),o=a.n(c),i=(a(21),a(4)),l=a(5),u=a(10),s=a(9),m=a(11),h=a(2),p=a(1),g=a.n(p),f=a(6),b=a.n(f);a(24);function d(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(h.a)(a,2),o=c[0],i=c[1];return r.a.createElement("header",{className:b.a.Searchbar},r.a.createElement("form",{className:b.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),i("")):m.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f!",{position:"top-left",theme:"colored"})}},r.a.createElement("button",{type:"submit",className:b.a.SearchFormButton},r.a.createElement("span",{className:b.a.SearchFormButtonLabel},"Search")),r.a.createElement("input",{className:b.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){i(e.currentTarget.value.toLowerCase())}})))}d.propType={value:g.a.string,onSubmit:g.a.func,onChange:g.a.func};var v=a(12),y=(a(25),function(){function e(){Object(i.a)(this,e),this.searchQuery="",this.page=1}return Object(l.a)(e,[{key:"fetchImages",value:function(){var e=this,t="".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(this.searchQuery,"&page=").concat(this.page,"&per_page=12&key=").concat("22938064-7e67cff9dc13648fb3a6e967b");return fetch(t).then((function(t){return t.ok?t.json():Promise.reject(new Error("Image ".concat(e.searchQuery," not found")))}))}},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}},{key:"query",set:function(e){this.searchQuery=e}}]),e}()),E=(a(26),a(27),document.querySelector("#modal-root")),S=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(c.createPortal)(r.a.createElement("div",{className:"Overlay",onClick:this.handleBackdropClick},r.a.createElement("div",{className:"Modal"},this.props.children)),E)}}]),a}(n.Component);function k(e){var t=e.src,a=e.description,c=e.bigImg,o=Object(n.useState)(!1),i=Object(h.a)(o,2),l=i[0],u=i[1],s=function(){u((function(e){return!e}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"ImageGalleryItem"},r.a.createElement("img",{src:t,alt:a,"data-image":c,onClick:s,className:"ImageGalleryItem-image"})),l&&r.a.createElement(S,{onClose:s},r.a.createElement("img",{src:c,alt:a})))}S.protoType={onClick:g.a.func},k.propType={src:g.a.string,alt:g.a.string,data:g.a.string,onClick:g.a.func};var O=a(14),j=a.n(O);function _(e){var t=e.onClick;return r.a.createElement("button",{onClick:t,type:"button",className:j.a.Button},"Load more")}a(28);function F(){return r.a.createElement("h2",{className:"title"},"Please enter image name ")}a(29);var w=a.p+"static/media/Error.88e68bf7.jpg";function C(e){var t=e.message;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"picture",src:w,alt:"sadcat"}),r.a.createElement("p",{className:"param"},t))}a(30);var N=a(15),I=a.n(N),B="idle",L="pending",P="resolved",T="rejected",D=new y;function x(e){var t=e.onClick,a=e.imageName,c=Object(n.useState)([]),o=Object(h.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)(null),s=Object(h.a)(u,2),m=s[0],p=s[1],g=Object(n.useState)(B),f=Object(h.a)(g,2),b=f[0],d=f[1];Object(n.useEffect)((function(){if(a)return d(L),D.resetPage(),D.query=a,y(),a}),[a]);var y=function(){D.fetchImages().then((function(e){if(e.hits.length>0)return E(e.hits),D.incrementPage(),void S();throw new C("Sorry, but not found images ".concat(a))})).catch((function(e){p(e),d(T)}))},E=function(e){1===D.page&&(l(e),d(P)),l([].concat(Object(v.a)(i),Object(v.a)(e))),d(P)},S=function(){i.length>12&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return b===B?r.a.createElement(F,null):b===L?r.a.createElement(I.a,{type:"ThreeDots",color:"#00BFFF",height:300,width:300,timeout:3e3}):b===T?r.a.createElement(C,{message:m.message}):b===P?r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"ImageGallery",onClick:t},i.map((function(e){return r.a.createElement(k,{key:e.id,src:e.webformatURL,bigImg:e.largeImageURL,description:e.tag,imageName:a})}))),r.a.createElement(_,{onClick:function(){y(""),p(L)}})):void 0}x.propType={onClick:g.a.func,imageName:g.a.string};a(49);var U=function(e){var t=e.children;return r.a.createElement("div",{className:"Container"},t)},q=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null,t))},M=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={image:""},e.handleFormSubmit=function(t){e.setState({image:t})},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(q,null,r.a.createElement(d,{onSubmit:this.handleFormSubmit}),r.a.createElement(x,{imageName:this.state.image,onClick:this.toggleModal}),r.a.createElement(m.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}))}}]),a}(n.Component);a(50);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,{className:M})),document.getElementById("root"))},6:function(e,t,a){e.exports={Searchbar:"searchbar_Searchbar__29HpN",SearchForm:"searchbar_SearchForm__235cn",SearchFormButton:"searchbar_SearchFormButton__24_Pe","SearchForm-button":"searchbar_SearchForm-button__1Vsx3",SearchFormButtonLabel:"searchbar_SearchFormButtonLabel__2e7hz",SearchFormInput:"searchbar_SearchFormInput__3sAlD","SearchForm-input":"searchbar_SearchForm-input___LUIx"}}},[[51,1,2]]]);
//# sourceMappingURL=main.b9114367.chunk.js.map